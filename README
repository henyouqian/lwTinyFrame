Liwei's tiny framework from 2012